(async()=>{let e=(e,l)=>new Promise(t=>setTimeout(t,Math.floor(Math.random()*(l-e+1))+e)),l=new WeakSet;async function t(){let t=[...document.querySelectorAll("button.feed-shared-control-menu__trigger")].filter(e=>!l.has(e));for(let a of t){l.add(a),a.click(),await e(200,450);let o=[...document.querySelectorAll("span,div,a")].find(e=>/^unfollow/i.test(e.innerText.trim()));o&&(o.click(),await e(400,850)),document.body.dispatchEvent(new MouseEvent("click",{bubbles:!0})),await e(150,300)}return t.length}let a=0;for(;;){let o=await t(),$=document.body.scrollHeight;window.scrollBy(0,1200),await e(900,1800);let r=document.body.scrollHeight===$,i=0===o;(a=r&&i?a+1:0)>=3&&(console.log("\uD83D\uDD04 Reloading for a fresh batchâ€¦"),window.scrollTo(0,0),location.reload(),await new Promise(e=>addEventListener("load",e,{once:!0})),await e(1500,2500),a=0)}})();
